var Qn=Object.defineProperty;var jn=(Y,re,ge)=>re in Y?Qn(Y,re,{enumerable:!0,configurable:!0,writable:!0,value:ge}):Y[re]=ge;var me=(Y,re,ge)=>jn(Y,typeof re!="symbol"?re+"":re,ge);(function(Y){typeof define=="function"&&define.amd?define(Y):Y()})(function(){"use strict";var Y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function re(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ge(n){if(n.__esModule)return n;var f=n.default;if(typeof f=="function"){var o=function l(){return this instanceof l?Reflect.construct(f,arguments,this.constructor):f.apply(this,arguments)};o.prototype=f.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(n).forEach(function(l){var w=Object.getOwnPropertyDescriptor(n,l);Object.defineProperty(o,l,w.get?w:{enumerable:!0,get:function(){return n[l]}})}),o}var Ne,Tr;function be(){return Tr||(Tr=1,Ne=TypeError),Ne}const Vt=ge(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var $e,Lr;function _e(){if(Lr)return $e;Lr=1;var n=typeof Map=="function"&&Map.prototype,f=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&f&&typeof f.get=="function"?f.get:null,l=n&&Map.prototype.forEach,w=typeof Set=="function"&&Set.prototype,A=Object.getOwnPropertyDescriptor&&w?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,O=w&&A&&typeof A.get=="function"?A.get:null,d=w&&Set.prototype.forEach,h=typeof WeakMap=="function"&&WeakMap.prototype,p=h?WeakMap.prototype.has:null,s=typeof WeakSet=="function"&&WeakSet.prototype,y=s?WeakSet.prototype.has:null,m=typeof WeakRef=="function"&&WeakRef.prototype,a=m?WeakRef.prototype.deref:null,c=Boolean.prototype.valueOf,b=Object.prototype.toString,e=Function.prototype.toString,i=String.prototype.match,u=String.prototype.slice,v=String.prototype.replace,g=String.prototype.toUpperCase,S=String.prototype.toLowerCase,E=RegExp.prototype.test,P=Array.prototype.concat,x=Array.prototype.join,N=Array.prototype.slice,_=Math.floor,$=typeof BigInt=="function"?BigInt.prototype.valueOf:null,R=Object.getOwnPropertySymbols,W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,B=typeof Symbol=="function"&&typeof Symbol.iterator=="object",K=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===B||!0)?Symbol.toStringTag:null,ne=Object.prototype.propertyIsEnumerable,ae=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function I(r,t){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||E.call(/e/,t))return t;var C=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var D=r<0?-_(-r):_(r);if(D!==r){var T=String(D),q=u.call(t,T.length+1);return v.call(T,C,"$&_")+"."+v.call(v.call(q,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(t,C,"$&_")}var Q=Vt,oe=Q.custom,ve=G(oe)?oe:null,ue={__proto__:null,double:'"',single:"'"},fe={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};$e=function r(t,C,D,T){var q=C||{};if(z(q,"quoteStyle")&&!z(ue,q.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(z(q,"maxStringLength")&&(typeof q.maxStringLength=="number"?q.maxStringLength<0&&q.maxStringLength!==1/0:q.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ye=z(q,"customInspect")?q.customInspect:!0;if(typeof ye!="boolean"&&ye!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z(q,"indent")&&q.indent!==null&&q.indent!=="	"&&!(parseInt(q.indent,10)===q.indent&&q.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(z(q,"numericSeparator")&&typeof q.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var he=q.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return Bt(t,q);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var j=String(t);return he?I(t,j):j}if(typeof t=="bigint"){var de=String(t)+"n";return he?I(t,de):de}var Ir=typeof q.depth>"u"?5:q.depth;if(typeof D>"u"&&(D=0),D>=Ir&&Ir>0&&typeof t=="object")return ce(t)?"[Array]":"[Object]";var Ee=Hn(q,D);if(typeof T>"u")T=[];else if(pe(T,t)>=0)return"[Circular]";function ee(Pe,Ce,Kn){if(Ce&&(T=N.call(T),T.push(Ce)),Kn){var jt={depth:q.depth};return z(q,"quoteStyle")&&(jt.quoteStyle=q.quoteStyle),r(Pe,jt,D+1,T)}return r(Pe,q,D+1,T)}if(typeof t=="function"&&!U(t)){var Ut=we(t),Wt=Ie(t,ee);return"[Function"+(Ut?": "+Ut:" (anonymous)")+"]"+(Wt.length>0?" { "+x.call(Wt,", ")+" }":"")}if(G(t)){var Gt=B?v.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):W.call(t);return typeof t=="object"&&!B?Re(Gt):Gt}if(Un(t)){for(var xe="<"+S.call(String(t.nodeName)),Fr=t.attributes||[],Fe=0;Fe<Fr.length;Fe++)xe+=" "+Fr[Fe].name+"="+le(ie(Fr[Fe].value),"double",q);return xe+=">",t.childNodes&&t.childNodes.length&&(xe+="..."),xe+="</"+S.call(String(t.nodeName))+">",xe}if(ce(t)){if(t.length===0)return"[]";var Cr=Ie(t,ee);return Ee&&!Gn(Cr)?"["+qr(Cr,Ee)+"]":"[ "+x.call(Cr,", ")+" ]"}if(F(t)){var Nr=Ie(t,ee);return!("cause"in Error.prototype)&&"cause"in t&&!ne.call(t,"cause")?"{ ["+String(t)+"] "+x.call(P.call("[cause]: "+ee(t.cause),Nr),", ")+" }":Nr.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+x.call(Nr,", ")+" }"}if(typeof t=="object"&&ye){if(ve&&typeof t[ve]=="function"&&Q)return Q(t,{depth:Ir-D});if(ye!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(Z(t)){var Ht=[];return l&&l.call(t,function(Pe,Ce){Ht.push(ee(Ce,t,!0)+" => "+ee(Pe,t))}),kt("Map",o.call(t),Ht,Ee)}if(Oe(t)){var zt=[];return d&&d.call(t,function(Pe){zt.push(ee(Pe,t))}),kt("Set",O.call(t),zt,Ee)}if(Se(t))return _r("WeakMap");if(kn(t))return _r("WeakSet");if(Ae(t))return _r("WeakRef");if(M(t))return Re(ee(Number(t)));if(J(t))return Re(ee($.call(t)));if(k(t))return Re(c.call(t));if(L(t))return Re(ee(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof Y<"u"&&t===Y)return"{ [object globalThis] }";if(!se(t)&&!U(t)){var $r=Ie(t,ee),Kt=ae?ae(t)===Object.prototype:t instanceof Object||t.constructor===Object,Mr=t instanceof Object?"":"null prototype",Qt=!Kt&&K&&Object(t)===t&&K in t?u.call(X(t),8,-1):Mr?"Object":"",zn=Kt||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",Dr=zn+(Qt||Mr?"["+x.call(P.call([],Qt||[],Mr||[]),": ")+"] ":"");return $r.length===0?Dr+"{}":Ee?Dr+"{"+qr($r,Ee)+"}":Dr+"{ "+x.call($r,", ")+" }"}return String(t)};function le(r,t,C){var D=C.quoteStyle||t,T=ue[D];return T+r+T}function ie(r){return v.call(String(r),/"/g,"&quot;")}function V(r){return!K||!(typeof r=="object"&&(K in r||typeof r[K]<"u"))}function ce(r){return X(r)==="[object Array]"&&V(r)}function se(r){return X(r)==="[object Date]"&&V(r)}function U(r){return X(r)==="[object RegExp]"&&V(r)}function F(r){return X(r)==="[object Error]"&&V(r)}function L(r){return X(r)==="[object String]"&&V(r)}function M(r){return X(r)==="[object Number]"&&V(r)}function k(r){return X(r)==="[object Boolean]"&&V(r)}function G(r){if(B)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!W)return!1;try{return W.call(r),!0}catch{}return!1}function J(r){if(!r||typeof r!="object"||!$)return!1;try{return $.call(r),!0}catch{}return!1}var H=Object.prototype.hasOwnProperty||function(r){return r in this};function z(r,t){return H.call(r,t)}function X(r){return b.call(r)}function we(r){if(r.name)return r.name;var t=i.call(e.call(r),/^function\s*([\w$]+)/);return t?t[1]:null}function pe(r,t){if(r.indexOf)return r.indexOf(t);for(var C=0,D=r.length;C<D;C++)if(r[C]===t)return C;return-1}function Z(r){if(!o||!r||typeof r!="object")return!1;try{o.call(r);try{O.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function Se(r){if(!p||!r||typeof r!="object")return!1;try{p.call(r,p);try{y.call(r,y)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function Ae(r){if(!a||!r||typeof r!="object")return!1;try{return a.call(r),!0}catch{}return!1}function Oe(r){if(!O||!r||typeof r!="object")return!1;try{O.call(r);try{o.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function kn(r){if(!y||!r||typeof r!="object")return!1;try{y.call(r,y);try{p.call(r,p)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function Un(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function Bt(r,t){if(r.length>t.maxStringLength){var C=r.length-t.maxStringLength,D="... "+C+" more character"+(C>1?"s":"");return Bt(u.call(r,0,t.maxStringLength),t)+D}var T=fe[t.quoteStyle||"single"];T.lastIndex=0;var q=v.call(v.call(r,T,"\\$1"),/[\x00-\x1f]/g,Wn);return le(q,"single",t)}function Wn(r){var t=r.charCodeAt(0),C={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return C?"\\"+C:"\\x"+(t<16?"0":"")+g.call(t.toString(16))}function Re(r){return"Object("+r+")"}function _r(r){return r+" { ? }"}function kt(r,t,C,D){var T=D?qr(C,D):x.call(C,", ");return r+" ("+t+") {"+T+"}"}function Gn(r){for(var t=0;t<r.length;t++)if(pe(r[t],`
`)>=0)return!1;return!0}function Hn(r,t){var C;if(r.indent==="	")C="	";else if(typeof r.indent=="number"&&r.indent>0)C=x.call(Array(r.indent+1)," ");else return null;return{base:C,prev:x.call(Array(t+1),C)}}function qr(r,t){if(r.length===0)return"";var C=`
`+t.prev+t.base;return C+x.call(r,","+C)+`
`+t.prev}function Ie(r,t){var C=ce(r),D=[];if(C){D.length=r.length;for(var T=0;T<r.length;T++)D[T]=z(r,T)?t(r[T],r):""}var q=typeof R=="function"?R(r):[],ye;if(B){ye={};for(var he=0;he<q.length;he++)ye["$"+q[he]]=q[he]}for(var j in r)z(r,j)&&(C&&String(Number(j))===j&&j<r.length||B&&ye["$"+j]instanceof Symbol||(E.call(/[^\w$]/,j)?D.push(t(j,r)+": "+t(r[j],r)):D.push(j+": "+t(r[j],r))));if(typeof R=="function")for(var de=0;de<q.length;de++)ne.call(r,q[de])&&D.push("["+t(q[de])+"]: "+t(r[q[de]],r));return D}return $e}var Me,Br;function Jt(){if(Br)return Me;Br=1;var n=_e(),f=be(),o=function(d,h,p){for(var s=d,y;(y=s.next)!=null;s=y)if(y.key===h)return s.next=y.next,p||(y.next=d.next,d.next=y),y},l=function(d,h){if(d){var p=o(d,h);return p&&p.value}},w=function(d,h,p){var s=o(d,h);s?s.value=p:d.next={key:h,next:d.next,value:p}},A=function(d,h){return d?!!o(d,h):!1},O=function(d,h){if(d)return o(d,h,!0)};return Me=function(){var h,p={assert:function(s){if(!p.has(s))throw new f("Side channel does not contain "+n(s))},delete:function(s){var y=h&&h.next,m=O(h,s);return m&&y&&y===m&&(h=void 0),!!m},get:function(s){return l(h,s)},has:function(s){return A(h,s)},set:function(s,y){h||(h={next:void 0}),w(h,s,y)}};return p},Me}var De,kr;function Ur(){return kr||(kr=1,De=Object),De}var Te,Wr;function Xt(){return Wr||(Wr=1,Te=Error),Te}var Le,Gr;function Yt(){return Gr||(Gr=1,Le=EvalError),Le}var Be,Hr;function Zt(){return Hr||(Hr=1,Be=RangeError),Be}var ke,zr;function en(){return zr||(zr=1,ke=ReferenceError),ke}var Ue,Kr;function rn(){return Kr||(Kr=1,Ue=SyntaxError),Ue}var We,Qr;function tn(){return Qr||(Qr=1,We=URIError),We}var Ge,jr;function nn(){return jr||(jr=1,Ge=Math.abs),Ge}var He,Vr;function an(){return Vr||(Vr=1,He=Math.floor),He}var ze,Jr;function on(){return Jr||(Jr=1,ze=Math.max),ze}var Ke,Xr;function un(){return Xr||(Xr=1,Ke=Math.min),Ke}var Qe,Yr;function fn(){return Yr||(Yr=1,Qe=Math.pow),Qe}var je,Zr;function ln(){return Zr||(Zr=1,je=Math.round),je}var Ve,et;function cn(){return et||(et=1,Ve=Number.isNaN||function(f){return f!==f}),Ve}var Je,rt;function sn(){if(rt)return Je;rt=1;var n=cn();return Je=function(o){return n(o)||o===0?o:o<0?-1:1},Je}var Xe,tt;function pn(){return tt||(tt=1,Xe=Object.getOwnPropertyDescriptor),Xe}var Ye,nt;function at(){if(nt)return Ye;nt=1;var n=pn();if(n)try{n([],"length")}catch{n=null}return Ye=n,Ye}var Ze,ot;function yn(){if(ot)return Ze;ot=1;var n=Object.defineProperty||!1;if(n)try{n({},"a",{value:1})}catch{n=!1}return Ze=n,Ze}var er,it;function dn(){return it||(it=1,er=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var f={},o=Symbol("test"),l=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(l)!=="[object Symbol]")return!1;var w=42;f[o]=w;for(var A in f)return!1;if(typeof Object.keys=="function"&&Object.keys(f).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(f).length!==0)return!1;var O=Object.getOwnPropertySymbols(f);if(O.length!==1||O[0]!==o||!Object.prototype.propertyIsEnumerable.call(f,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(f,o);if(d.value!==w||d.enumerable!==!0)return!1}return!0}),er}var rr,ut;function vn(){if(ut)return rr;ut=1;var n=typeof Symbol<"u"&&Symbol,f=dn();return rr=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:f()},rr}var tr,ft;function lt(){return ft||(ft=1,tr=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),tr}var nr,ct;function st(){if(ct)return nr;ct=1;var n=Ur();return nr=n.getPrototypeOf||null,nr}var ar,pt;function hn(){if(pt)return ar;pt=1;var n="Function.prototype.bind called on incompatible ",f=Object.prototype.toString,o=Math.max,l="[object Function]",w=function(h,p){for(var s=[],y=0;y<h.length;y+=1)s[y]=h[y];for(var m=0;m<p.length;m+=1)s[m+h.length]=p[m];return s},A=function(h,p){for(var s=[],y=p,m=0;y<h.length;y+=1,m+=1)s[m]=h[y];return s},O=function(d,h){for(var p="",s=0;s<d.length;s+=1)p+=d[s],s+1<d.length&&(p+=h);return p};return ar=function(h){var p=this;if(typeof p!="function"||f.apply(p)!==l)throw new TypeError(n+p);for(var s=A(arguments,1),y,m=function(){if(this instanceof y){var i=p.apply(this,w(s,arguments));return Object(i)===i?i:this}return p.apply(h,w(s,arguments))},a=o(0,p.length-s.length),c=[],b=0;b<a;b++)c[b]="$"+b;if(y=Function("binder","return function ("+O(c,",")+"){ return binder.apply(this,arguments); }")(m),p.prototype){var e=function(){};e.prototype=p.prototype,y.prototype=new e,e.prototype=null}return y},ar}var or,yt;function qe(){if(yt)return or;yt=1;var n=hn();return or=Function.prototype.bind||n,or}var ir,dt;function ur(){return dt||(dt=1,ir=Function.prototype.call),ir}var fr,vt;function ht(){return vt||(vt=1,fr=Function.prototype.apply),fr}var lr,mt;function mn(){return mt||(mt=1,lr=typeof Reflect<"u"&&Reflect&&Reflect.apply),lr}var cr,gt;function gn(){if(gt)return cr;gt=1;var n=qe(),f=ht(),o=ur(),l=mn();return cr=l||n.call(o,f),cr}var sr,bt;function wt(){if(bt)return sr;bt=1;var n=qe(),f=be(),o=ur(),l=gn();return sr=function(A){if(A.length<1||typeof A[0]!="function")throw new f("a function is required");return l(n,o,A)},sr}var pr,St;function bn(){if(St)return pr;St=1;var n=wt(),f=at(),o;try{o=[].__proto__===Array.prototype}catch(O){if(!O||typeof O!="object"||!("code"in O)||O.code!=="ERR_PROTO_ACCESS")throw O}var l=!!o&&f&&f(Object.prototype,"__proto__"),w=Object,A=w.getPrototypeOf;return pr=l&&typeof l.get=="function"?n([l.get]):typeof A=="function"?function(d){return A(d==null?d:w(d))}:!1,pr}var yr,At;function wn(){if(At)return yr;At=1;var n=lt(),f=st(),o=bn();return yr=n?function(w){return n(w)}:f?function(w){if(!w||typeof w!="object"&&typeof w!="function")throw new TypeError("getProto: not an object");return f(w)}:o?function(w){return o(w)}:null,yr}var dr,Ot;function Sn(){if(Ot)return dr;Ot=1;var n=Function.prototype.call,f=Object.prototype.hasOwnProperty,o=qe();return dr=o.call(n,f),dr}var vr,Et;function hr(){if(Et)return vr;Et=1;var n,f=Ur(),o=Xt(),l=Yt(),w=Zt(),A=en(),O=rn(),d=be(),h=tn(),p=nn(),s=an(),y=on(),m=un(),a=fn(),c=ln(),b=sn(),e=Function,i=function(U){try{return e('"use strict"; return ('+U+").constructor;")()}catch{}},u=at(),v=yn(),g=function(){throw new d},S=u?function(){try{return arguments.callee,g}catch{try{return u(arguments,"callee").get}catch{return g}}}():g,E=vn()(),P=wn(),x=st(),N=lt(),_=ht(),$=ur(),R={},W=typeof Uint8Array>"u"||!P?n:P(Uint8Array),B={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":E&&P?P([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":R,"%AsyncGenerator%":R,"%AsyncGeneratorFunction%":R,"%AsyncIteratorPrototype%":R,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":l,"%Float16Array%":typeof Float16Array>"u"?n:Float16Array,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":e,"%GeneratorFunction%":R,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":E&&P?P(P([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!E||!P?n:P(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":f,"%Object.getOwnPropertyDescriptor%":u,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":w,"%ReferenceError%":A,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!E||!P?n:P(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":E&&P?P(""[Symbol.iterator]()):n,"%Symbol%":E?Symbol:n,"%SyntaxError%":O,"%ThrowTypeError%":S,"%TypedArray%":W,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":h,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet,"%Function.prototype.call%":$,"%Function.prototype.apply%":_,"%Object.defineProperty%":v,"%Object.getPrototypeOf%":x,"%Math.abs%":p,"%Math.floor%":s,"%Math.max%":y,"%Math.min%":m,"%Math.pow%":a,"%Math.round%":c,"%Math.sign%":b,"%Reflect.getPrototypeOf%":N};if(P)try{null.error}catch(U){var K=P(P(U));B["%Error.prototype%"]=K}var ne=function U(F){var L;if(F==="%AsyncFunction%")L=i("async function () {}");else if(F==="%GeneratorFunction%")L=i("function* () {}");else if(F==="%AsyncGeneratorFunction%")L=i("async function* () {}");else if(F==="%AsyncGenerator%"){var M=U("%AsyncGeneratorFunction%");M&&(L=M.prototype)}else if(F==="%AsyncIteratorPrototype%"){var k=U("%AsyncGenerator%");k&&P&&(L=P(k.prototype))}return B[F]=L,L},ae={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},I=qe(),Q=Sn(),oe=I.call($,Array.prototype.concat),ve=I.call(_,Array.prototype.splice),ue=I.call($,String.prototype.replace),fe=I.call($,String.prototype.slice),le=I.call($,RegExp.prototype.exec),ie=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V=/\\(\\)?/g,ce=function(F){var L=fe(F,0,1),M=fe(F,-1);if(L==="%"&&M!=="%")throw new O("invalid intrinsic syntax, expected closing `%`");if(M==="%"&&L!=="%")throw new O("invalid intrinsic syntax, expected opening `%`");var k=[];return ue(F,ie,function(G,J,H,z){k[k.length]=H?ue(z,V,"$1"):J||G}),k},se=function(F,L){var M=F,k;if(Q(ae,M)&&(k=ae[M],M="%"+k[0]+"%"),Q(B,M)){var G=B[M];if(G===R&&(G=ne(M)),typeof G>"u"&&!L)throw new d("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:k,name:M,value:G}}throw new O("intrinsic "+F+" does not exist!")};return vr=function(F,L){if(typeof F!="string"||F.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof L!="boolean")throw new d('"allowMissing" argument must be a boolean');if(le(/^%?[^%]*%?$/,F)===null)throw new O("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var M=ce(F),k=M.length>0?M[0]:"",G=se("%"+k+"%",L),J=G.name,H=G.value,z=!1,X=G.alias;X&&(k=X[0],ve(M,oe([0,1],X)));for(var we=1,pe=!0;we<M.length;we+=1){var Z=M[we],Se=fe(Z,0,1),Ae=fe(Z,-1);if((Se==='"'||Se==="'"||Se==="`"||Ae==='"'||Ae==="'"||Ae==="`")&&Se!==Ae)throw new O("property names with quotes must have matching quotes");if((Z==="constructor"||!pe)&&(z=!0),k+="."+Z,J="%"+k+"%",Q(B,J))H=B[J];else if(H!=null){if(!(Z in H)){if(!L)throw new d("base intrinsic for "+F+" exists, but the property is not available.");return}if(u&&we+1>=M.length){var Oe=u(H,Z);pe=!!Oe,pe&&"get"in Oe&&!("originalValue"in Oe.get)?H=Oe.get:H=H[Z]}else pe=Q(H,Z),H=H[Z];pe&&!z&&(B[J]=H)}}return H},vr}var mr,Pt;function Rt(){if(Pt)return mr;Pt=1;var n=hr(),f=wt(),o=f([n("%String.prototype.indexOf%")]);return mr=function(w,A){var O=n(w,!!A);return typeof O=="function"&&o(w,".prototype.")>-1?f([O]):O},mr}var gr,xt;function _t(){if(xt)return gr;xt=1;var n=hr(),f=Rt(),o=_e(),l=be(),w=n("%Map%",!0),A=f("Map.prototype.get",!0),O=f("Map.prototype.set",!0),d=f("Map.prototype.has",!0),h=f("Map.prototype.delete",!0),p=f("Map.prototype.size",!0);return gr=!!w&&function(){var y,m={assert:function(a){if(!m.has(a))throw new l("Side channel does not contain "+o(a))},delete:function(a){if(y){var c=h(y,a);return p(y)===0&&(y=void 0),c}return!1},get:function(a){if(y)return A(y,a)},has:function(a){return y?d(y,a):!1},set:function(a,c){y||(y=new w),O(y,a,c)}};return m},gr}var br,qt;function An(){if(qt)return br;qt=1;var n=hr(),f=Rt(),o=_e(),l=_t(),w=be(),A=n("%WeakMap%",!0),O=f("WeakMap.prototype.get",!0),d=f("WeakMap.prototype.set",!0),h=f("WeakMap.prototype.has",!0),p=f("WeakMap.prototype.delete",!0);return br=A?function(){var y,m,a={assert:function(c){if(!a.has(c))throw new w("Side channel does not contain "+o(c))},delete:function(c){if(A&&c&&(typeof c=="object"||typeof c=="function")){if(y)return p(y,c)}else if(l&&m)return m.delete(c);return!1},get:function(c){return A&&c&&(typeof c=="object"||typeof c=="function")&&y?O(y,c):m&&m.get(c)},has:function(c){return A&&c&&(typeof c=="object"||typeof c=="function")&&y?h(y,c):!!m&&m.has(c)},set:function(c,b){A&&c&&(typeof c=="object"||typeof c=="function")?(y||(y=new A),d(y,c,b)):l&&(m||(m=l()),m.set(c,b))}};return a}:l,br}var wr,It;function On(){if(It)return wr;It=1;var n=be(),f=_e(),o=Jt(),l=_t(),w=An(),A=w||l||o;return wr=function(){var d,h={assert:function(p){if(!h.has(p))throw new n("Side channel does not contain "+f(p))},delete:function(p){return!!d&&d.delete(p)},get:function(p){return d&&d.get(p)},has:function(p){return!!d&&d.has(p)},set:function(p,s){d||(d=A()),d.set(p,s)}};return h},wr}var Sr,Ft;function Ar(){if(Ft)return Sr;Ft=1;var n=String.prototype.replace,f=/%20/g,o={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Sr={default:o.RFC3986,formatters:{RFC1738:function(l){return n.call(l,f,"+")},RFC3986:function(l){return String(l)}},RFC1738:o.RFC1738,RFC3986:o.RFC3986},Sr}var Or,Ct;function Nt(){if(Ct)return Or;Ct=1;var n=Ar(),f=Object.prototype.hasOwnProperty,o=Array.isArray,l=function(){for(var e=[],i=0;i<256;++i)e.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return e}(),w=function(i){for(;i.length>1;){var u=i.pop(),v=u.obj[u.prop];if(o(v)){for(var g=[],S=0;S<v.length;++S)typeof v[S]<"u"&&g.push(v[S]);u.obj[u.prop]=g}}},A=function(i,u){for(var v=u&&u.plainObjects?{__proto__:null}:{},g=0;g<i.length;++g)typeof i[g]<"u"&&(v[g]=i[g]);return v},O=function e(i,u,v){if(!u)return i;if(typeof u!="object"&&typeof u!="function"){if(o(i))i.push(u);else if(i&&typeof i=="object")(v&&(v.plainObjects||v.allowPrototypes)||!f.call(Object.prototype,u))&&(i[u]=!0);else return[i,u];return i}if(!i||typeof i!="object")return[i].concat(u);var g=i;return o(i)&&!o(u)&&(g=A(i,v)),o(i)&&o(u)?(u.forEach(function(S,E){if(f.call(i,E)){var P=i[E];P&&typeof P=="object"&&S&&typeof S=="object"?i[E]=e(P,S,v):i.push(S)}else i[E]=S}),i):Object.keys(u).reduce(function(S,E){var P=u[E];return f.call(S,E)?S[E]=e(S[E],P,v):S[E]=P,S},g)},d=function(i,u){return Object.keys(u).reduce(function(v,g){return v[g]=u[g],v},i)},h=function(e,i,u){var v=e.replace(/\+/g," ");if(u==="iso-8859-1")return v.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(v)}catch{return v}},p=1024,s=function(i,u,v,g,S){if(i.length===0)return i;var E=i;if(typeof i=="symbol"?E=Symbol.prototype.toString.call(i):typeof i!="string"&&(E=String(i)),v==="iso-8859-1")return escape(E).replace(/%u[0-9a-f]{4}/gi,function(W){return"%26%23"+parseInt(W.slice(2),16)+"%3B"});for(var P="",x=0;x<E.length;x+=p){for(var N=E.length>=p?E.slice(x,x+p):E,_=[],$=0;$<N.length;++$){var R=N.charCodeAt($);if(R===45||R===46||R===95||R===126||R>=48&&R<=57||R>=65&&R<=90||R>=97&&R<=122||S===n.RFC1738&&(R===40||R===41)){_[_.length]=N.charAt($);continue}if(R<128){_[_.length]=l[R];continue}if(R<2048){_[_.length]=l[192|R>>6]+l[128|R&63];continue}if(R<55296||R>=57344){_[_.length]=l[224|R>>12]+l[128|R>>6&63]+l[128|R&63];continue}$+=1,R=65536+((R&1023)<<10|N.charCodeAt($)&1023),_[_.length]=l[240|R>>18]+l[128|R>>12&63]+l[128|R>>6&63]+l[128|R&63]}P+=_.join("")}return P},y=function(i){for(var u=[{obj:{o:i},prop:"o"}],v=[],g=0;g<u.length;++g)for(var S=u[g],E=S.obj[S.prop],P=Object.keys(E),x=0;x<P.length;++x){var N=P[x],_=E[N];typeof _=="object"&&_!==null&&v.indexOf(_)===-1&&(u.push({obj:E,prop:N}),v.push(_))}return w(u),i},m=function(i){return Object.prototype.toString.call(i)==="[object RegExp]"},a=function(i){return!i||typeof i!="object"?!1:!!(i.constructor&&i.constructor.isBuffer&&i.constructor.isBuffer(i))},c=function(i,u){return[].concat(i,u)},b=function(i,u){if(o(i)){for(var v=[],g=0;g<i.length;g+=1)v.push(u(i[g]));return v}return u(i)};return Or={arrayToObject:A,assign:d,combine:c,compact:y,decode:h,encode:s,isBuffer:a,isRegExp:m,maybeMap:b,merge:O},Or}var Er,$t;function En(){if($t)return Er;$t=1;var n=On(),f=Nt(),o=Ar(),l=Object.prototype.hasOwnProperty,w={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,i){return e+"["+i+"]"},repeat:function(e){return e}},A=Array.isArray,O=Array.prototype.push,d=function(b,e){O.apply(b,A(e)?e:[e])},h=Date.prototype.toISOString,p=o.default,s={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:f.encode,encodeValuesOnly:!1,filter:void 0,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},y=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},m={},a=function b(e,i,u,v,g,S,E,P,x,N,_,$,R,W,B,K,ne,ae){for(var I=e,Q=ae,oe=0,ve=!1;(Q=Q.get(m))!==void 0&&!ve;){var ue=Q.get(e);if(oe+=1,typeof ue<"u"){if(ue===oe)throw new RangeError("Cyclic object value");ve=!0}typeof Q.get(m)>"u"&&(oe=0)}if(typeof N=="function"?I=N(i,I):I instanceof Date?I=R(I):u==="comma"&&A(I)&&(I=f.maybeMap(I,function(J){return J instanceof Date?R(J):J})),I===null){if(S)return x&&!K?x(i,s.encoder,ne,"key",W):i;I=""}if(y(I)||f.isBuffer(I)){if(x){var fe=K?i:x(i,s.encoder,ne,"key",W);return[B(fe)+"="+B(x(I,s.encoder,ne,"value",W))]}return[B(i)+"="+B(String(I))]}var le=[];if(typeof I>"u")return le;var ie;if(u==="comma"&&A(I))K&&x&&(I=f.maybeMap(I,x)),ie=[{value:I.length>0?I.join(",")||null:void 0}];else if(A(N))ie=N;else{var V=Object.keys(I);ie=_?V.sort(_):V}var ce=P?String(i).replace(/\./g,"%2E"):String(i),se=v&&A(I)&&I.length===1?ce+"[]":ce;if(g&&A(I)&&I.length===0)return se+"[]";for(var U=0;U<ie.length;++U){var F=ie[U],L=typeof F=="object"&&F&&typeof F.value<"u"?F.value:I[F];if(!(E&&L===null)){var M=$&&P?String(F).replace(/\./g,"%2E"):String(F),k=A(I)?typeof u=="function"?u(se,M):se:se+($?"."+M:"["+M+"]");ae.set(e,oe);var G=n();G.set(m,ae),d(le,b(L,k,u,v,g,S,E,P,u==="comma"&&K&&A(I)?null:x,N,_,$,R,W,B,K,ne,G))}}return le},c=function(e){if(!e)return s;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var i=e.charset||s.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var u=o.default;if(typeof e.format<"u"){if(!l.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");u=e.format}var v=o.formatters[u],g=s.filter;(typeof e.filter=="function"||A(e.filter))&&(g=e.filter);var S;if(e.arrayFormat in w?S=e.arrayFormat:"indices"in e?S=e.indices?"indices":"repeat":S=s.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var E=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:s.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:s.addQueryPrefix,allowDots:E,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:s.allowEmptyArrays,arrayFormat:S,charset:i,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:s.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?s.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:s.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:s.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:s.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:s.encodeValuesOnly,filter:g,format:u,formatter:v,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:s.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:s.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:s.strictNullHandling}};return Er=function(b,e){var i=b,u=c(e),v,g;typeof u.filter=="function"?(g=u.filter,i=g("",i)):A(u.filter)&&(g=u.filter,v=g);var S=[];if(typeof i!="object"||i===null)return"";var E=w[u.arrayFormat],P=E==="comma"&&u.commaRoundTrip;v||(v=Object.keys(i)),u.sort&&v.sort(u.sort);for(var x=n(),N=0;N<v.length;++N){var _=v[N],$=i[_];u.skipNulls&&$===null||d(S,a($,_,E,P,u.allowEmptyArrays,u.strictNullHandling,u.skipNulls,u.encodeDotInKeys,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,x))}var R=S.join(u.delimiter),W=u.addQueryPrefix===!0?"?":"";return u.charsetSentinel&&(u.charset==="iso-8859-1"?W+="utf8=%26%2310003%3B&":W+="utf8=%E2%9C%93&"),R.length>0?W+R:""},Er}var Pr,Mt;function Pn(){if(Mt)return Pr;Mt=1;var n=Nt(),f=Object.prototype.hasOwnProperty,o=Array.isArray,l={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},w=function(m){return m.replace(/&#(\d+);/g,function(a,c){return String.fromCharCode(parseInt(c,10))})},A=function(m,a,c){if(m&&typeof m=="string"&&a.comma&&m.indexOf(",")>-1)return m.split(",");if(a.throwOnLimitExceeded&&c>=a.arrayLimit)throw new RangeError("Array limit exceeded. Only "+a.arrayLimit+" element"+(a.arrayLimit===1?"":"s")+" allowed in an array.");return m},O="utf8=%26%2310003%3B",d="utf8=%E2%9C%93",h=function(a,c){var b={__proto__:null},e=c.ignoreQueryPrefix?a.replace(/^\?/,""):a;e=e.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var i=c.parameterLimit===1/0?void 0:c.parameterLimit,u=e.split(c.delimiter,c.throwOnLimitExceeded?i+1:i);if(c.throwOnLimitExceeded&&u.length>i)throw new RangeError("Parameter limit exceeded. Only "+i+" parameter"+(i===1?"":"s")+" allowed.");var v=-1,g,S=c.charset;if(c.charsetSentinel)for(g=0;g<u.length;++g)u[g].indexOf("utf8=")===0&&(u[g]===d?S="utf-8":u[g]===O&&(S="iso-8859-1"),v=g,g=u.length);for(g=0;g<u.length;++g)if(g!==v){var E=u[g],P=E.indexOf("]="),x=P===-1?E.indexOf("="):P+1,N,_;x===-1?(N=c.decoder(E,l.decoder,S,"key"),_=c.strictNullHandling?null:""):(N=c.decoder(E.slice(0,x),l.decoder,S,"key"),_=n.maybeMap(A(E.slice(x+1),c,o(b[N])?b[N].length:0),function(R){return c.decoder(R,l.decoder,S,"value")})),_&&c.interpretNumericEntities&&S==="iso-8859-1"&&(_=w(String(_))),E.indexOf("[]=")>-1&&(_=o(_)?[_]:_);var $=f.call(b,N);$&&c.duplicates==="combine"?b[N]=n.combine(b[N],_):(!$||c.duplicates==="last")&&(b[N]=_)}return b},p=function(m,a,c,b){var e=0;if(m.length>0&&m[m.length-1]==="[]"){var i=m.slice(0,-1).join("");e=Array.isArray(a)&&a[i]?a[i].length:0}for(var u=b?a:A(a,c,e),v=m.length-1;v>=0;--v){var g,S=m[v];if(S==="[]"&&c.parseArrays)g=c.allowEmptyArrays&&(u===""||c.strictNullHandling&&u===null)?[]:n.combine([],u);else{g=c.plainObjects?{__proto__:null}:{};var E=S.charAt(0)==="["&&S.charAt(S.length-1)==="]"?S.slice(1,-1):S,P=c.decodeDotInKeys?E.replace(/%2E/g,"."):E,x=parseInt(P,10);!c.parseArrays&&P===""?g={0:u}:!isNaN(x)&&S!==P&&String(x)===P&&x>=0&&c.parseArrays&&x<=c.arrayLimit?(g=[],g[x]=u):P!=="__proto__"&&(g[P]=u)}u=g}return u},s=function(a,c,b,e){if(a){var i=b.allowDots?a.replace(/\.([^.[]+)/g,"[$1]"):a,u=/(\[[^[\]]*])/,v=/(\[[^[\]]*])/g,g=b.depth>0&&u.exec(i),S=g?i.slice(0,g.index):i,E=[];if(S){if(!b.plainObjects&&f.call(Object.prototype,S)&&!b.allowPrototypes)return;E.push(S)}for(var P=0;b.depth>0&&(g=v.exec(i))!==null&&P<b.depth;){if(P+=1,!b.plainObjects&&f.call(Object.prototype,g[1].slice(1,-1))&&!b.allowPrototypes)return;E.push(g[1])}if(g){if(b.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+b.depth+" and strictDepth is true");E.push("["+i.slice(g.index)+"]")}return p(E,c,b,e)}},y=function(a){if(!a)return l;if(typeof a.allowEmptyArrays<"u"&&typeof a.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof a.decodeDotInKeys<"u"&&typeof a.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(a.decoder!==null&&typeof a.decoder<"u"&&typeof a.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof a.charset<"u"&&a.charset!=="utf-8"&&a.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof a.throwOnLimitExceeded<"u"&&typeof a.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var c=typeof a.charset>"u"?l.charset:a.charset,b=typeof a.duplicates>"u"?l.duplicates:a.duplicates;if(b!=="combine"&&b!=="first"&&b!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var e=typeof a.allowDots>"u"?a.decodeDotInKeys===!0?!0:l.allowDots:!!a.allowDots;return{allowDots:e,allowEmptyArrays:typeof a.allowEmptyArrays=="boolean"?!!a.allowEmptyArrays:l.allowEmptyArrays,allowPrototypes:typeof a.allowPrototypes=="boolean"?a.allowPrototypes:l.allowPrototypes,allowSparse:typeof a.allowSparse=="boolean"?a.allowSparse:l.allowSparse,arrayLimit:typeof a.arrayLimit=="number"?a.arrayLimit:l.arrayLimit,charset:c,charsetSentinel:typeof a.charsetSentinel=="boolean"?a.charsetSentinel:l.charsetSentinel,comma:typeof a.comma=="boolean"?a.comma:l.comma,decodeDotInKeys:typeof a.decodeDotInKeys=="boolean"?a.decodeDotInKeys:l.decodeDotInKeys,decoder:typeof a.decoder=="function"?a.decoder:l.decoder,delimiter:typeof a.delimiter=="string"||n.isRegExp(a.delimiter)?a.delimiter:l.delimiter,depth:typeof a.depth=="number"||a.depth===!1?+a.depth:l.depth,duplicates:b,ignoreQueryPrefix:a.ignoreQueryPrefix===!0,interpretNumericEntities:typeof a.interpretNumericEntities=="boolean"?a.interpretNumericEntities:l.interpretNumericEntities,parameterLimit:typeof a.parameterLimit=="number"?a.parameterLimit:l.parameterLimit,parseArrays:a.parseArrays!==!1,plainObjects:typeof a.plainObjects=="boolean"?a.plainObjects:l.plainObjects,strictDepth:typeof a.strictDepth=="boolean"?!!a.strictDepth:l.strictDepth,strictNullHandling:typeof a.strictNullHandling=="boolean"?a.strictNullHandling:l.strictNullHandling,throwOnLimitExceeded:typeof a.throwOnLimitExceeded=="boolean"?a.throwOnLimitExceeded:!1}};return Pr=function(m,a){var c=y(a);if(m===""||m===null||typeof m>"u")return c.plainObjects?{__proto__:null}:{};for(var b=typeof m=="string"?h(m,c):m,e=c.plainObjects?{__proto__:null}:{},i=Object.keys(b),u=0;u<i.length;++u){var v=i[u],g=s(v,b[v],c,typeof m=="string");e=n.merge(e,g,c)}return c.allowSparse===!0?e:n.compact(e)},Pr}var Rr,Dt;function Rn(){if(Dt)return Rr;Dt=1;var n=En(),f=Pn(),o=Ar();return Rr={formats:o,parse:f,stringify:n},Rr}var xn=Rn();const _n=re(xn),qn=".ideabosque-ai-iframe{border-radius:20px;background:#fff;overflow:hidden;border:0;box-shadow:0 -4px 16px 0 rgba(0,0,0,.25)}.ideabosque-ai-drawer{position:fixed;right:0;top:0;bottom:0}.ideabosque-ai-drawer-body{position:fixed;right:0;top:0;bottom:0;transform:translateX(100%);transition:all .3s ease-in-out}.ideabosque-ai-drawer-body .ideabosque-ai-iframe{height:100%!important;border-radius:0!important}.ideabosque-ai-drawer-switch{position:absolute;top:50%;background:#3b6351;transform:translateY(-50%) translateX(-100%);cursor:pointer;padding:16px 4px;border-top-left-radius:8px;border-bottom-left-radius:8px}.ideabosque-ai-drawer-switch div{writing-mode:vertical-rl;text-align:center;font-size:13px;color:#fff}.ideabosque-ai-drawer-open .ideabosque-ai-drawer-body{transform:translateX(0)}@media(max-width:640px){.ideabosque-ai-iframe{margin-bottom:24px;width:100%!important;height:580px!important}}@media(max-width:980px){.ideabosque-ai-iframe{margin-bottom:24px}}";var xr={exports:{}},Tt;function In(){return Tt||(Tt=1,function(n){var f=Object.prototype.hasOwnProperty,o="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(o=!1));function w(h,p,s){this.fn=h,this.context=p,this.once=s||!1}function A(h,p,s,y,m){if(typeof s!="function")throw new TypeError("The listener must be a function");var a=new w(s,y||h,m),c=o?o+p:p;return h._events[c]?h._events[c].fn?h._events[c]=[h._events[c],a]:h._events[c].push(a):(h._events[c]=a,h._eventsCount++),h}function O(h,p){--h._eventsCount===0?h._events=new l:delete h._events[p]}function d(){this._events=new l,this._eventsCount=0}d.prototype.eventNames=function(){var p=[],s,y;if(this._eventsCount===0)return p;for(y in s=this._events)f.call(s,y)&&p.push(o?y.slice(1):y);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(s)):p},d.prototype.listeners=function(p){var s=o?o+p:p,y=this._events[s];if(!y)return[];if(y.fn)return[y.fn];for(var m=0,a=y.length,c=new Array(a);m<a;m++)c[m]=y[m].fn;return c},d.prototype.listenerCount=function(p){var s=o?o+p:p,y=this._events[s];return y?y.fn?1:y.length:0},d.prototype.emit=function(p,s,y,m,a,c){var b=o?o+p:p;if(!this._events[b])return!1;var e=this._events[b],i=arguments.length,u,v;if(e.fn){switch(e.once&&this.removeListener(p,e.fn,void 0,!0),i){case 1:return e.fn.call(e.context),!0;case 2:return e.fn.call(e.context,s),!0;case 3:return e.fn.call(e.context,s,y),!0;case 4:return e.fn.call(e.context,s,y,m),!0;case 5:return e.fn.call(e.context,s,y,m,a),!0;case 6:return e.fn.call(e.context,s,y,m,a,c),!0}for(v=1,u=new Array(i-1);v<i;v++)u[v-1]=arguments[v];e.fn.apply(e.context,u)}else{var g=e.length,S;for(v=0;v<g;v++)switch(e[v].once&&this.removeListener(p,e[v].fn,void 0,!0),i){case 1:e[v].fn.call(e[v].context);break;case 2:e[v].fn.call(e[v].context,s);break;case 3:e[v].fn.call(e[v].context,s,y);break;case 4:e[v].fn.call(e[v].context,s,y,m);break;default:if(!u)for(S=1,u=new Array(i-1);S<i;S++)u[S-1]=arguments[S];e[v].fn.apply(e[v].context,u)}}return!0},d.prototype.on=function(p,s,y){return A(this,p,s,y,!1)},d.prototype.once=function(p,s,y){return A(this,p,s,y,!0)},d.prototype.removeListener=function(p,s,y,m){var a=o?o+p:p;if(!this._events[a])return this;if(!s)return O(this,a),this;var c=this._events[a];if(c.fn)c.fn===s&&(!m||c.once)&&(!y||c.context===y)&&O(this,a);else{for(var b=0,e=[],i=c.length;b<i;b++)(c[b].fn!==s||m&&!c[b].once||y&&c[b].context!==y)&&e.push(c[b]);e.length?this._events[a]=e.length===1?e[0]:e:O(this,a)}return this},d.prototype.removeAllListeners=function(p){var s;return p?(s=o?o+p:p,this._events[s]&&O(this,s)):(this._events=new l,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=o,d.EventEmitter=d,n.exports=d}(xr)),xr.exports}var Fn=In();const Cn=re(Fn),te="ideabosque";class Nn{constructor(f){me(this,"iframe");me(this,"event",new Cn);me(this,"init",()=>{window.addEventListener("message",this.onMessage)});me(this,"sendMessage",(f,o)=>{const l=JSON.stringify(o),w=`${te}-${f}`;this.win.postMessage({type:w,data:l},"*")});me(this,"on",(f,o)=>(this.event.on(f,o),this.event));me(this,"onMessage",f=>{var w;const o=f.data.type;let l=f.data.data;if((w=o==null?void 0:o.includes)!=null&&w.call(o,te)){const A=o.replace(`${te}-`,"");l&&(l=JSON.parse(l)),this.event.emit(A,l)}});this.iframe=f,this.init()}get win(){return this.iframe.contentWindow}}const $n=n=>{const f=n.getAttribute("width")||640,o=n.getAttribute("height")||600;return{width:f,height:o}},Mn=()=>new Promise((n,f)=>{window.navigator.geolocation.getCurrentPosition(l=>{n(l.coords.toJSON())},async l=>{f(l)})});let Lt="https://ideabosque-ai-chat.pages.dev";const Dn=()=>{const n=document.querySelector("head"),f=document.createElement("style");f.setAttribute("data-role",`${te}-style`),f.innerHTML=qn,n==null||n.appendChild(f)},Tn=()=>{const n=`script[data-role='${te}-ai']`;return document.querySelector(n)},Ln=(n,f)=>{Dn();const o=$n(f),l=document.createElement("iframe"),w=f.getAttribute("iframe-url"),A=f.getAttribute("coordination"),O=f.getAttribute("agent"),d=f.getAttribute("endpoint-id");w&&(Lt=w);const h=_n.stringify({mode:"preview",coordination:A,agent:O,endpointId:d},{addQueryPrefix:!0});return l.src=`${Lt}${h}`,l.className=`${te}-ai-iframe`,l.style.width=o.width+"px",l.style.height=o.height+"px",l.setAttribute("frameborder","0"),l.setAttribute("allow","geolocation"),n.appendChild(l),l},Bn=n=>{const f=new Nn(n);f.on("get-position",async()=>{let o=!0,l={};try{l=await Mn()}catch{o=!1}f.sendMessage("get-position",{...l,success:o})})};(()=>{let n=!1,f=null;const o=Tn(),l=(o==null?void 0:o.getAttribute("open-type"))||"screen",w=O=>{!O||n||(Bn(Ln(O,o)),n=!0)},A=(O=!0)=>{f=document.createElement("div");const d=document.createElement("div"),h=document.createElement("div"),p=document.createElement("div"),s=`${te}-ai-drawer`,y=`${te}-ai-drawer-body`,m=`${te}-ai-drawer-switch`,a=`${te}-ai-drawer-open`;f.className=s,d.className=y,h.className=m,f.appendChild(d),d.appendChild(h),h.appendChild(p),p.innerHTML="B2B Chat Agent",document.body.appendChild(f),w(d),O&&f.classList.add(a),h.addEventListener("click",()=>{f==null||f.classList.toggle(a)})};if(l==="screen"){const O=o==null?void 0:o.getAttribute("selector");O&&(f=document.querySelector(O),w(f))}window.initIdeabosqueAi=(O=!0)=>{l!=="drawer"||n||A(O)},window.removeIdeabosqueAi=()=>{l==="drawer"&&f&&document.body.removeChild(f)}})()});
