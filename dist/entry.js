(function(i){typeof define=="function"&&define.amd?define(i):i()})(function(){"use strict";const i=".ideabosque-iframe{border-radius:20px;background:#fff;overflow:hidden;border:none;box-shadow:0 -4px 16px 0 rgba(0,0,0,.25);}@media (max-width:640px){.idea-bosque-iframe{margin-bottom:24px;width:100%;height:580px !important;}}",c=document,s="ideabosque",l="https://ideabosque-ai-chat.pages.dev",d={GET_POSITION:`${s}-get-position`},u=e=>{document.addEventListener("DOMContentLoaded",e)},f=()=>{const e=document.querySelector("head"),n=document.createElement("style");n.setAttribute("data-role",`${s}-style`),n.innerHTML=i,e==null||e.appendChild(n)},p=e=>{const n=e.getAttribute("width")||640,o=e.getAttribute("height")||600;return{width:n,height:o}},m=()=>{const e=`script[data-role='${s}-ai']`;return c.querySelector(e)},h=e=>{const n=o=>{e.contentWindow.postMessage({type:d.GET_POSITION,data:JSON.stringify(o)},"*")};window.addEventListener("message",o=>{switch(o.data.type){case d.GET_POSITION:{window.navigator.geolocation.getCurrentPosition(t=>{n({...t.coords.toJSON(),success:!0})},async function(){n({success:!1})});break}}})};u(()=>{f();const e=m();if(!e)return;const n=e.getAttribute("selector"),o=c.querySelector(n);if(!o)return;const r=p(e),t=document.createElement("iframe");o.appendChild(t),t.src=`${l}?mode=iframe`,t.style.width=r.width+"px",t.style.height=r.height+"px",t.setAttribute("frameborder","0"),t.classList.add(`${s}-iframe`),h(t)})});
