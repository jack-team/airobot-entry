(function(s){typeof define=="function"&&define.amd?define(s):s()})(function(){"use strict";const s=".ideabosque-iframe{border-radius:20px;background:#fff;overflow:hidden;border:none;box-shadow:0 -4px 16px 0 rgba(0,0,0,.25);}",c=document,i="ideabosque",a="https://ideabosque-ai-chat.pages.dev",l={GET_POSITION:`${i}-get-position`},u=e=>{document.addEventListener("DOMContentLoaded",e)},f=()=>{const e=document.querySelector("head"),n=document.createElement("style");n.setAttribute("data-role",`${i}-style`),n.innerHTML=s,e==null||e.appendChild(n)},p=e=>{const n=e.getAttribute("width")||640,o=e.getAttribute("height")||600;return{width:n,height:o}},h=()=>{const e=`script[data-role='${i}-ai']`;return c.querySelector(e)},m=e=>{const n=o=>{e.contentWindow.postMessage({type:l.GET_POSITION,data:JSON.stringify(o)},"*")};window.addEventListener("message",o=>{switch(o.data.type){case l.GET_POSITION:{window.navigator.geolocation.getCurrentPosition(t=>{n({...t.coords.toJSON(),success:!0})},async function(){n({success:!1})});break}}})};u(()=>{f();const e=h();if(!e)return;const n=e.getAttribute("selector"),o=c.querySelector(n);if(!o)return;const r=p(e),t=document.createElement("iframe");o.appendChild(t),t.src=`${a}?mode=iframe`,t.style.width=r.width+"px",t.style.height=r.height+"px",t.setAttribute("frameborder","0"),t.classList.add(`${i}-iframe`),m(t)})});
